{"version":3,"file":"static/js/976.6002daa9.chunk.js","mappings":"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","sources":["components/dashboard/EditProduct.js","shared/FormElements/ImageUpload.js","shared/FormElements/Input.js","shared/hooks/form-hook.js","shared/util/validators.js"],"sourcesContent":["import axios from \"axios\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport ImageUpload from \"../../shared/FormElements/ImageUpload\";\nimport Input from \"../../shared/FormElements/Input\";\nimport { useForm } from \"../../shared/hooks/form-hook\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\n\nconst activeImg = \"grayscale object-cover object-center w-full h-full\"\nconst deactivateImg = \"object-cover object-center w-full h-full\"\n\nconst deleteBtn = \"w-full bg-customRed text-white\";\nconst undeleteBtn = \"w-full bg-customBlue text-white\";\n\n\nconst EditProduct = (props) => {\n  let location = useLocation();\n  const prod = location.state.product;\n  let prodImages = [];\n  if (prod.images) {\n    prodImages = prod.images.split(\", \");\n  }\n  const navigate = useNavigate();\n  const fileReader = new FileReader();\n  const [savedImages, setSavedImages] = useState(prodImages);\n  const [deletedImages, setDeletedImages] = useState([]);\n  const [images, setImages] = useState([]);\n  const [newImages, setNewImages] = useState([]);\n  const [msg, setMsg] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrls, setPreviewUrls] = useState([]);\n  const [selectedValue, setSelectedValue] = useState(prod.category);\n  const [formState, inputHandler] = useForm(\n    {\n      title: {\n        value: \"\",\n        isValid: false,\n      },\n      price: {\n        value: \"\",\n        isValid: false,\n      },\n      desc: {\n        value: \"\",\n        isValid: false,\n      },\n    },\n    false\n  );\n\n  const handleFileRead = (e) => {\n    const content = fileReader.result;\n    const urls = [...previewUrls];\n    urls.push(content);\n    setPreviewUrls(urls);\n  };\n\n  fileReader.addEventListener(\"load\", handleFileRead);\n\n  const imageHandler = (file) => {\n    const uploaded = [...images];\n    uploaded.push(file);\n    setImages(uploaded);\n    setSelectedFile(file);\n    setNewImages([...newImages, false]);\n  };\n\n  useEffect(() => {\n    if (images.length !== previewUrls.length) {\n      fileReader.readAsDataURL(selectedFile);\n    }\n  }, [selectedFile, images, previewUrls]);\n\n  const submitFormHandler = async (event) => {\n    event.preventDefault();\n    const desc = formState.inputs.desc.value;\n    const title = formState.inputs.title.value;\n    const price = formState.inputs.price.value;\n   \n    const formData = new FormData();\n    images.forEach((image, index) => {\n      if(newImages[index] === false) {\n        formData.append('files', image);\n      }\n    });\n    formData.append('title', title);\n    formData.append('desc', desc);\n    formData.append('price', price);\n    formData.append('category', selectedValue);\n    formData.append('deletedImages', deletedImages.join(', '));\n  \n    try {\n      await axios.patch(`${process.env.REACT_APP_BACKEND_URL}/product/${prod.uuid}`, formData);\n      navigate('/kezelofelulet/feltoltott-hirdetesek');\n    } catch (error) {\n        if(error.response) {\n          setMsg(error.response.data.msg);\n          console.log(error.response.data.msg);\n        }\n    }\n  };\n\n  const handleChangeSelectedValue = (e) => {\n    setSelectedValue(e.target.value);\n  };\n\n  const handleSavedImages = (img) => {\n    let index = deletedImages.indexOf(img);\n    if(index === -1) {\n      setDeletedImages([...deletedImages, img]);\n    } else {\n      let filteredImages = deletedImages.filter((el) => el !== img);\n      setDeletedImages([...filteredImages]);\n    }\n  };\n\n  const handleNewImages = (index) => {\n   \n    setNewImages(prevState => {\n      const newState = [...prevState];\n      newState[index] = !newState[index];\n      return newState;\n    });\n  }\n\n  return (\n    <Fragment>\n      <div className=\"w-full text-center p-4 text-customBlue font-bold text-2xl\">\n        <h1 className=\"text-customBlue\">Hirdetés szerkesztése</h1>\n      </div>\n      <div className=\"mx-auto w-10/12\">\n        {msg && <p>{msg}</p>}\n        <form onSubmit={submitFormHandler}>\n          <div className=\"flex flex-wrap -mx-4\">\n            <div className=\"w-full md:w-1/2 lg:w-1/3 px-4\">\n              <div className=\"mb-8\">\n                <div className=\"form-control\">\n                  <label\n                    className=\"block text-customBlue text-sm font-bold mb-2\"\n                    htmlFor=\"category\"\n                  >\n                    Kategória\n                  </label>\n                  <select\n                    onChange={handleChangeSelectedValue}\n                    defaultValue={selectedValue}\n                    className=\"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                    name=\"category\"\n                    id=\"category\"\n                  >\n                    <option value=\"fegyverek\">Fegyverek</option>\n                    <option value=\"lőszerek\">Lőszerek</option>\n                    <option value=\"optikák\">Optikák</option>\n                    <option value=\"öltözékek\">Öltözékek</option>\n                    <option value=\"vadászkutyák\">Vadászkutyák</option>\n                    <option value=\"járművek\">Járművek</option>\n                    <option value=\"szolgáltatások\">Szolgáltatások</option>\n                    <option value=\"kellékek\">Kellékek</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className=\"w-full md:w-1/2 lg:w-1/3 px-4\">\n              <div className=\"mb-8\">\n                <Input\n                  id=\"price\"\n                  type=\"number\"\n                  label=\"Ár\"\n                  placeholder=\"Ár\"\n                  element=\"input\"\n                  validators={[VALIDATOR_REQUIRE()]}\n                  errorText=\"Ár megadása kötelező\"\n                  onInput={inputHandler}\n                  value={prod.price}\n                  valid={true}\n                />\n              </div>\n            </div>\n            <div className=\"w-full px-4\">\n              <div className=\"mb-8\">\n                <Input\n                  id=\"title\"\n                  type=\"text\"\n                  label=\"Cím\"\n                  placeholder=\"Cím\"\n                  element=\"input\"\n                  validators={[VALIDATOR_MINLENGTH(5)]}\n                  errorText=\"Cím megadása kötelező\"\n                  onInput={inputHandler}\n                  value={prod.title}\n                  valid={true}\n                />\n              </div>\n            </div>\n            <div className=\"w-full px-4\">\n              <div className=\"mb-8\">\n                <Input\n                  id=\"desc\"\n                  type=\"text\"\n                  label=\"Leírás\"\n                  placeholder=\"Leírás\"\n                  element=\"textaera\"\n                  validators={[VALIDATOR_MINLENGTH(5)]}\n                  errorText=\"Leírás megadása kötelező\"\n                  onInput={inputHandler}\n                  value={prod.desc}\n                  valid={true}\n                />\n              </div>\n            </div>\n            <div className=\"w-full px-4\">\n              <div className=\"mb-5 w-fit flex\">\n                <label\n                  htmlFor=\"kiemelt\"\n                  className=\"font-medium text-base text-black block mb-3\"\n                >\n                  Kiemelt hirdetés\n                </label>\n                <input\n                  type=\"checkbox\"\n                  name=\"kiemelt\"\n                  value=\"1\"\n                  className=\"border-[1.5px] border-form-stroke ml-2 p-2 font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default\"\n                />\n              </div>\n            </div>\n            <div className=\"w-full md:w-1/2 lg:w-1/3 px-4\">\n              <p className=\"font-medium text-base text-black mb-3\">Képek szerkesztése</p>\n              <div className=\"flex flex-row gap-2\">\n              {savedImages && savedImages.map((el, index) => (\n                  <div\n                    key={index}\n                    className=\"border border-mint w-24 h-24 shrink-0\"\n                  >\n                    <img\n                      className={ deletedImages.includes(el) ? activeImg : deactivateImg }\n                      src={`${process.env.REACT_APP_ASSET_URL}/${el}`}\n                      alt=\"public\"\n                    />\n                    <button type=\"button\" onClick={() => handleSavedImages(el)} className={ deletedImages.includes(el) ? undeleteBtn : deleteBtn }>\n                      {deletedImages.includes(el) ? \"Visszavonás\" : \"Törlés\"}\n                    </button>\n                  </div>\n                ))}\n                {previewUrls.map((el, index) => (\n                  <div\n                    key={index}\n                    className=\"border border-mint w-24 h-24 shrink-0\"\n                  >\n                    <img\n                      className={ newImages[index] ? activeImg : deactivateImg }\n                      src={el}\n                      alt=\"public\"\n                    />\n                    <button type=\"button\" onClick={() => handleNewImages(index)} className={ newImages[index] ? undeleteBtn : deleteBtn }>\n                      {newImages[index] ? \"Visszavonás\" : \"Törlés\"}\n                    </button>\n                    <p className=\"text-customBlue\">{newImages[index].toString()}</p>\n                  </div>\n                ))}\n                <ImageUpload\n                  id=\"image\"\n                  onInput={imageHandler}\n                  showPreview={false}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-md-12 text-right\">\n              <button\n                type=\"submit\"\n                className=\"px-4 bg-customBlue rounded-md text-white text-base px-5 py-2.5\"\n              >\n                Változtatások mentése\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default EditProduct;\n","import { useEffect, useRef, useState } from \"react\";\n\nconst ImageUpload = (props) => {\n  const [file, setFile] = useState();\n  const [previewUrl, setPreviewUrl] = useState();\n  const [isValid, setIsValid] = useState(true);\n\n  const filePickerRef = useRef();\n\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    const fileReader = new FileReader();\n    if (props.showPreview) {\n      fileReader.onload = () => {\n        setPreviewUrl(fileReader.result);\n      };\n    }\n    fileReader.readAsDataURL(file);\n  }, [file, props.showPreview]);\n\n  const pickedHandler = (event) => {\n    let pickedFile;\n    let fileIsValid = isValid;\n    if (event.target.files || event.target.files.length === 1) {\n      pickedFile = event.target.files[0];\n      setFile(pickedFile);\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      setIsValid(false);\n      fileIsValid = false;\n    }\n    props.onInput(pickedFile);\n  };\n\n  const pickImageHandler = () => {\n    filePickerRef.current.click();\n  };\n\n  const handleRemoveImage = () => {\n    setFile();\n    setPreviewUrl();\n    props.onInput();\n  };\n\n  return (\n    <div className=\"form-control\">\n      <input\n        id={props.id}\n        ref={filePickerRef}\n        style={{ display: \"none\" }}\n        type=\"file\"\n        accept=\".jpg,.jpeg,.png\"\n        onChange={pickedHandler}\n      />\n      <div className={`image-upload ${props.center && \"center\"}`}>\n        <div className=\"image-upload__preview w-full flex justify-center\">\n          {previewUrl && (\n            <div className=\"w-24 h-24 relative\">\n              <button type=\"button\" onClick={handleRemoveImage}>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  strokeWidth=\"1.5\"\n                  stroke=\"currentColor\"\n                  className=\"absolute -top-3 -right-3 w-7 h-7 bg-red-500 rounded-full\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    d=\"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n              </button>\n\n              <button type=\"button\" onClick={pickImageHandler}>\n                <img\n                  className=\"w-24 h-24 object-cover\"\n                  src={previewUrl}\n                  alt=\"Preview\"\n                />\n              </button>\n            </div>\n          )}\n          {!previewUrl && (\n            <button\n              type=\"button\"\n              onClick={pickImageHandler}\n              className=\"w-24 h-24 text-customBlue hover:text-mint border rounded-sm border-customBlue hover:border-mint flex items-center\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                strokeWidth=\"1\"\n                stroke=\"currentColor\"\n                className=\"w-12 h-12 mx-auto\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\"\n                />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n      {!isValid && <p>Nem megfelelo kepformatum</p>}\n    </div>\n  );\n};\n\nexport default ImageUpload;\n","import { useEffect, useReducer } from \"react\";\n\nimport { validate } from \"../util/validators\";\n\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case \"CHANGE\":\n      return {\n        ...state,\n        value: action.val,\n        isValid: validate(action.val, action.vaidators),\n      };\n    case \"TOUCH\":\n      return {\n        ...state,\n        isTouched: true,\n      };\n    default:\n      return state;\n  }\n};\n\nconst Input = (props) => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: props.value || \"\",\n    isTouched: false,\n    isValid: props.valid || false,\n  });\n\n  const { id, onInput } = props;\n  const { value, isValid } = inputState;\n\n  useEffect(() => {\n    onInput(id, value, isValid);\n  }, [id, onInput, value, isValid]);\n\n  const changeHandler = (event) => {\n    dispatch({\n      type: \"CHANGE\",\n      val: event.target.value,\n      vaidators: props.validators,\n    });\n  };\n\n  const touchHandler = () => {\n    dispatch({\n      type: \"TOUCH\",\n    });\n  };\n\n  const element =\n    props.element === \"input\" ? (\n      <input\n        className={`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${\n          !inputState.isValid && inputState.isTouched && \"border-red-500\"\n        }`}\n        id={props.id}\n        type={props.type}\n        placeholder={props.placeholder}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    ) : (\n      <textarea\n        className={`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${\n          !inputState.isValid && inputState.isTouched && \"border-red-500\"\n        }`}\n        id={props.id}\n        rows={props.rows || 6}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    );\n\n  return (\n    <div className=\"form-control\">\n      <label\n        className=\"block text-customBlue text-sm font-bold mb-2\"\n        htmlFor={props.id}\n      >\n        {props.label}\n      </label>\n      {element}\n      {!inputState.isValid && inputState.isTouched && (\n        <p className=\"text-red-500\">{props.errorText}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Input;\n","import { useCallback, useReducer } from \"react\";\n\nconst formReducer = (state, action) => {\n  switch (action.type) {\n    case \"INPUT_CHANGE\":\n      let formIsValid = true;\n      for (const inputId in state.inputs) {\n        if (inputId === action.inputId) {\n          formIsValid = formIsValid && action.isValid;\n        } else {\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\n        }\n      }\n      return {\n        ...state,\n        inputs: {\n          ...state.inputs,\n          [action.inputId]: { value: action.value, isValid: action.isValid },\n        },\n        isValid: formIsValid,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useForm = (initialInputs, initialFormValidity) => {\n  const [formState, dispatch] = useReducer(formReducer, {\n    inputs: initialInputs,\n    isValid: initialFormValidity,\n  });\n\n  const inputHandler = useCallback((id, value, isValid) => {\n    dispatch({\n      type: \"INPUT_CHANGE\",\n      value: value,\n      isValid: isValid,\n      inputId: id,\n    });\n  }, []);\n\n  return [formState, inputHandler];\n};\n","const VALIDATOR_TYPE_REQUIRE = \"REQUIRE\";\nconst VALIDATOR_TYPE_MINLENGTH = \"MINLENGTH\";\nconst VALIDATOR_TYPE_MAXLENGTH = \"MAXLENGTH\";\nconst VALIDATOR_TYPE_MIN = \"MIN\";\nconst VALIDATOR_TYPE_MAX = \"MAX\";\nconst VALIDATOR_TYPE_EMAIL = \"EMAIL\";\nconst VALIDATOR_TYPE_FILE = \"FILE\";\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\nexport const VALIDATOR_MINLENGTH = (val) => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val,\n});\nexport const VALIDATOR_MAXLENGTH = (val) => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val,\n});\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^[\\w-]+@([\\w-]+\\.)+[\\w-]{2,4}$/.test(value);\n    }\n  }\n  return isValid;\n};\n"],"names":["activeImg","deactivateImg","deleteBtn","undeleteBtn","props","prod","useLocation","state","product","prodImages","images","split","navigate","useNavigate","fileReader","FileReader","useState","savedImages","deletedImages","setDeletedImages","setImages","newImages","setNewImages","msg","setMsg","selectedFile","setSelectedFile","previewUrls","setPreviewUrls","category","selectedValue","setSelectedValue","useForm","title","value","isValid","price","desc","formState","inputHandler","addEventListener","e","content","result","urls","push","useEffect","length","readAsDataURL","submitFormHandler","event","preventDefault","inputs","formData","FormData","forEach","image","index","append","join","axios","process","uuid","response","data","console","log","Fragment","className","onSubmit","htmlFor","onChange","target","defaultValue","name","id","type","label","placeholder","element","validators","VALIDATOR_REQUIRE","errorText","onInput","valid","VALIDATOR_MINLENGTH","map","el","includes","src","alt","onClick","img","indexOf","filteredImages","filter","handleSavedImages","prevState","newState","handleNewImages","toString","file","uploaded","showPreview","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","useRef","onload","pickImageHandler","current","click","ref","style","display","accept","pickedFile","files","center","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","inputReducer","action","val","validate","vaidators","isTouched","useReducer","inputState","dispatch","changeHandler","touchHandler","onBlur","rows","formReducer","formIsValid","inputId","initialInputs","initialFormValidity","useCallback","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_EMAIL","validator","trim","test"],"sourceRoot":""}