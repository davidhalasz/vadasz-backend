{"version":3,"file":"static/js/21.39b4aca4.chunk.js","mappings":"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","sources":["components/dashboard/AddProduct.js","shared/FormElements/ImageUpload.js","shared/FormElements/Input.js","shared/hooks/form-hook.js","shared/util/validators.js"],"sourcesContent":["import axios from \"axios\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport ImageUpload from \"../../shared/FormElements/ImageUpload\";\nimport Input from \"../../shared/FormElements/Input\";\nimport { useForm } from \"../../shared/hooks/form-hook\";\nimport { VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\n\nconst AddProduct = () => {\n  const navigate = useNavigate();\n  const fileReader = new FileReader();\n  const [images, setImages] = useState([]);\n  const [msg, setMsg] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrls, setPreviewUrls] = useState([]);\n  const [selectedValue, setSelectedValue] = useState(\"fegyverek\");\n  const [featured, setFeatured] = useState(false);\n  const [formState, inputHandler] = useForm(\n    {\n      title: {\n        value: \"\",\n        isValid: false,\n      },\n      price: {\n        value: \"\",\n        isValid: false,\n      },\n      desc: {\n        value: \"\",\n        isValid: false,\n      }\n    },\n    false\n  );\n\n  const handleFileRead = (e) => {\n    const content = fileReader.result;\n    const urls = [...previewUrls];\n    urls.push({filePath: content, isDeleted: false});\n    setPreviewUrls(urls);\n  };\n\n  fileReader.addEventListener(\"load\", handleFileRead);\n\n  const imageHandler = (file) => {\n    const uploaded = [...images];\n    uploaded.push({ file: file, isDeleted: false });\n    setImages(uploaded);\n    setSelectedFile(file);\n  };\n\n  useEffect(() => {\n    if (images.length !== previewUrls.length) {\n      fileReader.readAsDataURL(selectedFile);\n    }\n  }, [selectedFile, images, previewUrls]);\n\n  const checkboxHandler = () => {\n    setFeatured(!featured);\n  }\n\n  const submitFormHandler = async (event) => {\n    event.preventDefault();\n    const desc = formState.inputs.desc.value;\n    const title = formState.inputs.title.value;\n    const price = formState.inputs.price.value;\n\n    const formData = new FormData();\n    images.forEach((image) => {\n      if (image.isDeleted === false) {\n        formData.append(\"files\", image.file);\n      }\n    });\n    formData.append(\"title\", title);\n    formData.append(\"desc\", desc);\n    formData.append(\"price\", price);\n    formData.append(\"category\", selectedValue);\n    formData.append(\"featured\", featured);\n\n    try {\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL}/product`, formData);\n      navigate(\"/kezelofelulet/feltoltott-hirdetesek\");\n    } catch (error) {\n      if (error.response) {\n        setMsg(error.response.data.msg);\n        console.log(error.response.data.msg);\n      }\n    }\n  };\n\n  const handleChangeSelectedValue = (e) => {\n    setSelectedValue(e.target.value);\n  };\n\n  const handleDeleteImage = (index) => {\n    setImages(prevState => {\n      const newState = [...prevState];\n      newState[index].isDeleted = true;\n      return newState;\n    });\n\n    setPreviewUrls(prevState => {\n      const newState = [...prevState];\n      newState[index].isDeleted = true;\n      return newState;\n    });\n  }\n\n\n  return (\n    <Fragment>\n      <div className=\"w-full text-center p-4 text-customBlue font-bold text-2xl\">\n        <h1 className=\"text-customBlue\">Új hirdetés hozzáadása</h1>\n      </div>\n      <div className=\"mx-auto w-10/12\">\n        {msg && <p>{msg}</p>}\n        <form onSubmit={submitFormHandler}>\n          <div className=\"flex flex-wrap -mx-4\">\n            <div className=\"w-full md:w-1/2 lg:w-1/3 px-4\">\n              <div className=\"mb-8\">\n                <div className=\"form-control\">\n                  <label\n                    className=\"block text-customBlue text-sm font-bold mb-2\"\n                    htmlFor=\"category\"\n                  >\n                    Kategória\n                  </label>\n                  <select\n                    onChange={handleChangeSelectedValue}\n                    defaultValue={selectedValue}\n                    className=\"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                    name=\"category\"\n                    id=\"category\"\n                  >\n                    <option value=\"fegyverek\">Fegyverek</option>\n                    <option value=\"lőszerek\">Lőszerek</option>\n                    <option value=\"optikák\">Optikák</option>\n                    <option value=\"öltözékek\">Öltözékek</option>\n                    <option value=\"vadászkutyák\">Vadászkutyák</option>\n                    <option value=\"járművek\">Járművek</option>\n                    <option value=\"szolgáltatások\">Szolgáltatások</option>\n                    <option value=\"kellékek\">Kellékek</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className=\"w-full md:w-1/2 lg:w-1/3 px-4\">\n              <div className=\"mb-8\">\n                <Input\n                  id=\"price\"\n                  type=\"number\"\n                  label=\"Ár\"\n                  placeholder=\"Ár\"\n                  element=\"input\"\n                  validators={[VALIDATOR_REQUIRE()]}\n                  errorText=\"Ár megadása kötelező\"\n                  onInput={inputHandler}\n                />\n              </div>\n            </div>\n            <div className=\"w-full px-4\">\n              <div className=\"mb-8\">\n                <Input\n                  id=\"title\"\n                  type=\"text\"\n                  label=\"Cím\"\n                  placeholder=\"Cím\"\n                  element=\"input\"\n                  validators={[VALIDATOR_REQUIRE()]}\n                  errorText=\"Cím megadása kötelező\"\n                  onInput={inputHandler}\n                />\n              </div>\n            </div>\n            <div className=\"w-full px-4\">\n              <div className=\"mb-8\">\n                <Input\n                  id=\"desc\"\n                  type=\"text\"\n                  label=\"Leírás\"\n                  placeholder=\"Leírás\"\n                  element=\"textaera\"\n                  validators={[VALIDATOR_REQUIRE()]}\n                  errorText=\"Leírás megadása kötelező\"\n                  onInput={inputHandler}\n                />\n              </div>\n            </div>\n            <div className=\"w-full px-4\">\n              <div className=\"mb-5 w-fit flex\">\n                <label\n                  htmlFor=\"featured\"\n                  className=\"font-medium text-base text-black block mb-3\"\n                >\n                  Kiemelt hirdetés\n                </label>\n                <input\n                  type=\"checkbox\"\n                  name=\"featured\"\n                  checked={featured}\n                  onChange={checkboxHandler}\n                  className=\"border-[1.5px] border-form-stroke ml-2 p-2 font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default\"\n                />\n              </div>\n            </div>\n            <div className=\"w-full md:w-1/2 lg:w-1/3 px-4\">\n              <p className=\"font-medium text-base text-black mb-3\">\n                Képek hozzáadása\n              </p>\n              <div className=\"flex flex-row gap-2\">\n                {previewUrls.map((el, index) => (\n                  el.isDeleted === false &&\n                  <div\n                    key={index}\n                    className=\"relative border border-mint w-24 h-24 shrink-0\"\n                  >\n                    <img\n                      className=\"object-cover object-center w-full h-full\"\n                      src={el.filePath}\n                      alt=\"public\"\n                    />\n                    <button onClick={() => handleDeleteImage(index)} type=\"button\" className=\"bg-customRed rounded-full text-white absolute -top-1 -right-1\">\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth=\"1.5\"\n                        stroke=\"currentColor\"\n                        className=\"w-7 h-7\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\"\n                        />\n                      </svg>\n                    </button>\n                  </div>\n                  \n                ))}\n                <ImageUpload\n                  id=\"image\"\n                  onInput={imageHandler}\n                  showPreview={false}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-md-12 text-right\">\n              <button\n                type=\"submit\"\n                className=\"px-4 bg-customBlue rounded-md text-white text-base px-5 py-2.5\"\n              >\n                Feltöltés\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default AddProduct;\n","import { useEffect, useRef, useState } from \"react\";\n\nconst ImageUpload = (props) => {\n  const [file, setFile] = useState();\n  const [previewUrl, setPreviewUrl] = useState();\n  const [isValid, setIsValid] = useState(true);\n\n  const filePickerRef = useRef();\n\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    const fileReader = new FileReader();\n    if (props.showPreview) {\n      fileReader.onload = () => {\n        setPreviewUrl(fileReader.result);\n      };\n    }\n    fileReader.readAsDataURL(file);\n  }, [file, props.showPreview]);\n\n  const pickedHandler = (event) => {\n    let pickedFile;\n    let fileIsValid = isValid;\n    if (event.target.files || event.target.files.length === 1) {\n      pickedFile = event.target.files[0];\n      setFile(pickedFile);\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      setIsValid(false);\n      fileIsValid = false;\n    }\n    props.onInput(pickedFile);\n  };\n\n  const pickImageHandler = () => {\n    filePickerRef.current.click();\n  };\n\n  const handleRemoveImage = () => {\n    setFile();\n    setPreviewUrl();\n    props.onInput();\n  };\n\n  return (\n    <div className=\"form-control\">\n      <input\n        id={props.id}\n        ref={filePickerRef}\n        style={{ display: \"none\" }}\n        type=\"file\"\n        accept=\".jpg,.jpeg,.png\"\n        onChange={pickedHandler}\n      />\n      <div className={`image-upload ${props.center && \"center\"}`}>\n        <div className=\"image-upload__preview w-full flex justify-center\">\n          {previewUrl && (\n            <div className=\"w-24 h-24 relative\">\n              <button type=\"button\" onClick={handleRemoveImage}>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  strokeWidth=\"1.5\"\n                  stroke=\"currentColor\"\n                  className=\"absolute -top-3 -right-3 w-7 h-7 bg-red-500 rounded-full\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    d=\"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n              </button>\n\n              <button type=\"button\" onClick={pickImageHandler}>\n                <img\n                  className=\"w-24 h-24 object-cover\"\n                  src={previewUrl}\n                  alt=\"Preview\"\n                />\n              </button>\n            </div>\n          )}\n          {!previewUrl && (\n            <button\n              type=\"button\"\n              onClick={pickImageHandler}\n              className=\"w-24 h-24 text-customBlue hover:text-mint border rounded-sm border-customBlue hover:border-mint flex items-center\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                strokeWidth=\"1\"\n                stroke=\"currentColor\"\n                className=\"w-12 h-12 mx-auto\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\"\n                />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n      {!isValid && <p>Nem megfelelo kepformatum</p>}\n    </div>\n  );\n};\n\nexport default ImageUpload;\n","import { useEffect, useReducer } from \"react\";\n\nimport { validate } from \"../util/validators\";\n\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case \"CHANGE\":\n      return {\n        ...state,\n        value: action.val,\n        isValid: validate(action.val, action.vaidators),\n      };\n    case \"TOUCH\":\n      return {\n        ...state,\n        isTouched: true,\n      };\n    default:\n      return state;\n  }\n};\n\nconst Input = (props) => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: props.value || \"\",\n    isTouched: false,\n    isValid: props.valid || false,\n  });\n\n  const { id, onInput } = props;\n  const { value, isValid } = inputState;\n\n  useEffect(() => {\n    onInput(id, value, isValid);\n  }, [id, onInput, value, isValid]);\n\n  const changeHandler = (event) => {\n    dispatch({\n      type: \"CHANGE\",\n      val: event.target.value,\n      vaidators: props.validators,\n    });\n  };\n\n  const touchHandler = () => {\n    dispatch({\n      type: \"TOUCH\",\n    });\n  };\n\n  const element =\n    props.element === \"input\" ? (\n      <input\n        className={`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${\n          !inputState.isValid && inputState.isTouched && \"border-red-500\"\n        }`}\n        id={props.id}\n        type={props.type}\n        placeholder={props.placeholder}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    ) : (\n      <textarea\n        className={`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${\n          !inputState.isValid && inputState.isTouched && \"border-red-500\"\n        }`}\n        id={props.id}\n        rows={props.rows || 6}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    );\n\n  return (\n    <div className=\"form-control\">\n      <label\n        className=\"block text-customBlue text-sm font-bold mb-2\"\n        htmlFor={props.id}\n      >\n        {props.label}\n      </label>\n      {element}\n      {!inputState.isValid && inputState.isTouched && (\n        <p className=\"text-red-500\">{props.errorText}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Input;\n","import { useCallback, useReducer } from \"react\";\n\nconst formReducer = (state, action) => {\n  switch (action.type) {\n    case \"INPUT_CHANGE\":\n      let formIsValid = true;\n      for (const inputId in state.inputs) {\n        if (inputId === action.inputId) {\n          formIsValid = formIsValid && action.isValid;\n        } else {\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\n        }\n      }\n      return {\n        ...state,\n        inputs: {\n          ...state.inputs,\n          [action.inputId]: { value: action.value, isValid: action.isValid },\n        },\n        isValid: formIsValid,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useForm = (initialInputs, initialFormValidity) => {\n  const [formState, dispatch] = useReducer(formReducer, {\n    inputs: initialInputs,\n    isValid: initialFormValidity,\n  });\n\n  const inputHandler = useCallback((id, value, isValid) => {\n    dispatch({\n      type: \"INPUT_CHANGE\",\n      value: value,\n      isValid: isValid,\n      inputId: id,\n    });\n  }, []);\n\n  return [formState, inputHandler];\n};\n","const VALIDATOR_TYPE_REQUIRE = \"REQUIRE\";\nconst VALIDATOR_TYPE_MINLENGTH = \"MINLENGTH\";\nconst VALIDATOR_TYPE_MAXLENGTH = \"MAXLENGTH\";\nconst VALIDATOR_TYPE_MIN = \"MIN\";\nconst VALIDATOR_TYPE_MAX = \"MAX\";\nconst VALIDATOR_TYPE_EMAIL = \"EMAIL\";\nconst VALIDATOR_TYPE_FILE = \"FILE\";\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\nexport const VALIDATOR_MINLENGTH = (val) => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val,\n});\nexport const VALIDATOR_MAXLENGTH = (val) => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val,\n});\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^[\\w-]+@([\\w-]+\\.)+[\\w-]{2,4}$/.test(value);\n    }\n  }\n  return isValid;\n};\n"],"names":["navigate","useNavigate","fileReader","FileReader","useState","images","setImages","msg","setMsg","selectedFile","setSelectedFile","previewUrls","setPreviewUrls","selectedValue","setSelectedValue","featured","setFeatured","useForm","title","value","isValid","price","desc","formState","inputHandler","addEventListener","e","content","result","urls","push","filePath","isDeleted","useEffect","length","readAsDataURL","submitFormHandler","event","preventDefault","inputs","formData","FormData","forEach","image","append","file","axios","process","response","data","console","log","Fragment","className","onSubmit","htmlFor","onChange","target","defaultValue","name","id","type","label","placeholder","element","validators","VALIDATOR_REQUIRE","errorText","onInput","checked","map","el","index","src","alt","onClick","prevState","newState","handleDeleteImage","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","uploaded","showPreview","props","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","useRef","onload","pickImageHandler","current","click","ref","style","display","accept","pickedFile","files","center","inputReducer","state","action","val","validate","vaidators","isTouched","useReducer","valid","inputState","dispatch","changeHandler","touchHandler","onBlur","rows","formReducer","formIsValid","inputId","initialInputs","initialFormValidity","useCallback","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_EMAIL","VALIDATOR_MINLENGTH","validator","trim","test"],"sourceRoot":""}