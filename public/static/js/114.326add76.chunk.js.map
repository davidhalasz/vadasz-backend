{"version":3,"file":"static/js/114.326add76.chunk.js","mappings":"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","sources":["pages/Auth/Register.js","shared/FormElements/Input.js","shared/hooks/form-hook.js","shared/util/validators.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport Input from \"../../shared/FormElements/Input\";\nimport { useForm } from \"../../shared/hooks/form-hook\";\nimport { getCurrentUser, reset } from \"../../features/authSlice\";\nimport { VALIDATOR_REQUIRE,VALIDATOR_EMAIL } from \"../../shared/util/validators\";\nimport axios from \"axios\";\n\nconst Register = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [msg, setMsg] = useState('');\n  const { user, isSuccess } = useSelector(\n    (state) => state.auth\n  );\n  const [formState, inputHandler] = useForm(\n    {\n      username: {\n        value: \"\",\n        isValid: false,\n      },\n      email: {\n        value: \"\",\n        isValid: false,\n      },\n      password: {\n        value: \"\",\n        isValid: false,\n      },\n    },\n    false\n  );\n\n  useEffect(() => {\n    dispatch(getCurrentUser());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if(user) {\n      navigate(\"/profil/feltoltott-hirdetesek\", {replace: true});\n    }\n    dispatch(reset());\n  }, [user, isSuccess, dispatch, navigate]);\n\n  const registerSubmitHandler = async (event) => {\n    event.preventDefault();\n    try {\n      await axios.post(\"http://localhost:4000/api/user/regisztracio\", {\n        username: formState.inputs.username.value,\n        email: formState.inputs.email.value,\n        password: formState.inputs.password.value,\n      });\n      navigate(\"/bejelentkezes\");\n    } catch (error) {\n      if(error.response) {\n        setMsg(error.data.msg);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"relative grid grid-cols-2 h-screen w-full\">\n        <div className=\"h-full w-full bg-customOrange\"></div>\n        <div className=\"h-full w-full bg-customMint\"></div>\n\n        <div className=\"absolute m-auto place-self-center bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 content-fit\">\n          <div className=\"w-full text-center\">\n            {msg && <p>{msg}</p>}\n            <h1 className=\"pb-4 text-2xl font-bold text-customBlue\">\n              Regisztráció\n            </h1>\n          </div>\n\n          <form onSubmit={registerSubmitHandler}>\n            <div className=\"mb-4\">\n            <Input\n                id=\"username\"\n                type=\"text\"\n                label=\"Felhasználónév\"\n                placeholder=\"Felhasználónév\"\n                element=\"input\"\n                validators={[VALIDATOR_REQUIRE()]}\n                errorText=\"Add meg a felhasználóneved!\"\n                onInput={inputHandler}\n              />\n            </div>\n            <div className=\"mb-4\">\n            <Input\n                type=\"email\"\n                id=\"email\"\n                label=\"Email\"\n                placeholder=\"Email\"\n                element=\"input\"\n                validators={[VALIDATOR_EMAIL()]}\n                errorText=\"Adj meg egy helyes email címet!\"\n                onInput={inputHandler}\n              />\n            </div>\n            <div className=\"mb-6\">\n            <Input\n                type=\"password\"\n                id=\"password\"\n                label=\"Jelszó\"\n                placeholder=\"Jelszó\"\n                element=\"input\"\n                validators={[VALIDATOR_REQUIRE()]}\n                errorText=\"Add meg a jelszavad!\"\n                onInput={inputHandler}\n              />\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <button\n                className=\"bg-customBlue hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n                type=\"submit\"\n              >\n                Regisztrálás\n              </button>\n            </div>\n            <div className=\"pt-6\">\n            <button\n                type=\"button\"\n                className=\"inline-block align-baseline font-bold text-sm text-customGreen hover:text-blue-800\"\n                onClick={() => navigate('/belepes')}\n              >\n                Már van fiókod?\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import { useEffect, useReducer } from \"react\";\n\nimport { validate } from \"../util/validators\";\n\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case \"CHANGE\":\n      return {\n        ...state,\n        value: action.val,\n        isValid: validate(action.val, action.vaidators),\n      };\n    case \"TOUCH\":\n      return {\n        ...state,\n        isTouched: true,\n      };\n    default:\n      return state;\n  }\n};\n\nconst Input = (props) => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: props.value || \"\",\n    isTouched: false,\n    isValid: props.valid || false,\n  });\n\n  const { id, onInput } = props;\n  const { value, isValid } = inputState;\n\n  useEffect(() => {\n    onInput(id, value, isValid);\n  }, [id, onInput, value, isValid]);\n\n  const changeHandler = (event) => {\n    dispatch({\n      type: \"CHANGE\",\n      val: event.target.value,\n      vaidators: props.validators,\n    });\n  };\n\n  const touchHandler = () => {\n    dispatch({\n      type: \"TOUCH\",\n    });\n  };\n\n  const element =\n    props.element === \"input\" ? (\n      <input\n        className={`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${\n          !inputState.isValid && inputState.isTouched && \"border-red-500\"\n        }`}\n        id={props.id}\n        type={props.type}\n        placeholder={props.placeholder}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    ) : (\n      <textarea\n        className={`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${\n          !inputState.isValid && inputState.isTouched && \"border-red-500\"\n        }`}\n        id={props.id}\n        rows={props.rows || 6}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    );\n\n  return (\n    <div className=\"form-control\">\n      <label\n        className=\"block text-customBlue text-sm font-bold mb-2\"\n        htmlFor={props.id}\n      >\n        {props.label}\n      </label>\n      {element}\n      {!inputState.isValid && inputState.isTouched && (\n        <p className=\"text-red-500\">{props.errorText}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Input;\n","import { useCallback, useReducer } from \"react\";\n\nconst formReducer = (state, action) => {\n  switch (action.type) {\n    case \"INPUT_CHANGE\":\n      let formIsValid = true;\n      for (const inputId in state.inputs) {\n        if (inputId === action.inputId) {\n          formIsValid = formIsValid && action.isValid;\n        } else {\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\n        }\n      }\n      return {\n        ...state,\n        inputs: {\n          ...state.inputs,\n          [action.inputId]: { value: action.value, isValid: action.isValid },\n        },\n        isValid: formIsValid,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useForm = (initialInputs, initialFormValidity) => {\n  const [formState, dispatch] = useReducer(formReducer, {\n    inputs: initialInputs,\n    isValid: initialFormValidity,\n  });\n\n  const inputHandler = useCallback((id, value, isValid) => {\n    dispatch({\n      type: \"INPUT_CHANGE\",\n      value: value,\n      isValid: isValid,\n      inputId: id,\n    });\n  }, []);\n\n  return [formState, inputHandler];\n};\n","const VALIDATOR_TYPE_REQUIRE = \"REQUIRE\";\nconst VALIDATOR_TYPE_MINLENGTH = \"MINLENGTH\";\nconst VALIDATOR_TYPE_MAXLENGTH = \"MAXLENGTH\";\nconst VALIDATOR_TYPE_MIN = \"MIN\";\nconst VALIDATOR_TYPE_MAX = \"MAX\";\nconst VALIDATOR_TYPE_EMAIL = \"EMAIL\";\nconst VALIDATOR_TYPE_FILE = \"FILE\";\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\nexport const VALIDATOR_MINLENGTH = (val) => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val,\n});\nexport const VALIDATOR_MAXLENGTH = (val) => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val,\n});\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^[\\w-]+@([\\w-]+\\.)+[\\w-]{2,4}$/.test(value);\n    }\n  }\n  return isValid;\n};\n"],"names":["navigate","useNavigate","dispatch","useDispatch","useState","msg","setMsg","useSelector","state","auth","user","isSuccess","useForm","username","value","isValid","email","password","formState","inputHandler","useEffect","getCurrentUser","replace","reset","registerSubmitHandler","event","preventDefault","axios","inputs","response","data","className","onSubmit","id","type","label","placeholder","element","validators","VALIDATOR_REQUIRE","errorText","onInput","VALIDATOR_EMAIL","onClick","inputReducer","action","val","validate","vaidators","isTouched","props","useReducer","valid","inputState","changeHandler","target","touchHandler","onChange","onBlur","rows","htmlFor","formReducer","formIsValid","inputId","initialInputs","initialFormValidity","useCallback","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_MINLENGTH","validator","trim","length","test"],"sourceRoot":""}